# ==============================================
# Backend Environment Variables
# ==============================================

# Server Configuration
# Required for Express server to listen on the correct port
# Heroku automatically provides this; locally use any available port
# Example: 5000
PORT=5000

# Environment indicator for development vs production behavior
# Controls logging, error details, and development features
# Example: development or production
NODE_ENV=development

# Frontend URL for CORS and redirect URLs
# Used by CORS middleware and for generating email/redirect links
# Example: http://localhost:5173 (dev) or https://yourdomain.com (prod)
FRONTEND_URL=http://localhost:5173

# Database Configuration
# PostgreSQL connection string for Prisma ORM
# Get from Supabase dashboard → Settings → Database → Connection String
# Example: postgresql://user:password@host:5432/database?schema=public
DATABASE_URL=postgresql://user:password@host:5432/database

# Clerk Authentication
# Secret key for Clerk backend SDK authentication
# Get from Clerk Dashboard → API Keys → Secret Keys
# Example: sk_test_XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
CLERK_SECRET_KEY=sk_test_***

# Webhook secret for verifying Clerk webhook signatures
# Get from Clerk Dashboard → Webhooks → Add Endpoint → Signing Secret
# Example: whsec_XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
CLERK_WEBHOOK_SECRET=whsec_***

# Stripe Payment Processing
# Secret key for Stripe API (server-side payments)
# Get from Stripe Dashboard → Developers → API Keys → Secret Key
# Example: sk_test_XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
STRIPE_SECRET_KEY=sk_test_***

# Webhook secret for verifying Stripe webhook signatures
# Get from Stripe Dashboard → Developers → Webhooks → Add Endpoint → Signing Secret
# Example: whsec_XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
STRIPE_WEBHOOK_SECRET=whsec_***

# OpenAI DALL-E 3 Integration
# API key for OpenAI image generation
# Get from OpenAI Platform → API Keys → Create New Secret Key
# Example: sk-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
OPENAI_API_KEY=sk-***

# Organization ID for OpenAI API (optional but recommended)
# Get from OpenAI Platform → Settings → Organization → Organization ID
# Example: org-XXXXXXXXXXXXXXXXXXXXXXXX
OPENAI_ORGANIZATION_ID=org-***

# ==============================================
# Image Storage Configuration
# ==============================================
# IMPORTANT: Configure EITHER Supabase OR AWS S3 for permanent image storage
# Without storage, design images will expire after 1 hour!

# Supabase Storage (Recommended - Free tier available)
# Project URL from Supabase Dashboard → Project Settings → API → Project URL
# Example: https://abcdefghijklmnop.supabase.co
SUPABASE_URL=https://your-project.supabase.co

# Service role key (has admin access - NEVER expose to frontend!)
# Get from Supabase Dashboard → Project Settings → API → service_role key
# Example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_SERVICE_ROLE_KEY=***

# Name of Supabase Storage bucket for design images
# Create in Supabase Dashboard → Storage → Create Bucket (make it public!)
# Example: designs
SUPABASE_BUCKET_NAME=designs

# AWS S3 Image Storage (Alternative to Supabase)
# Access key ID for AWS S3 bucket access
# Get from AWS Console → IAM → Users → Security Credentials → Access Keys
# Example: AKIAIOSFODNN7EXAMPLE
AWS_ACCESS_KEY_ID=***

# Secret access key for AWS S3 authentication
# Provided when creating access key (save it immediately, shown only once)
# Example: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
AWS_SECRET_ACCESS_KEY=***

# AWS region where your S3 bucket is located
# Get from AWS Console → S3 → Bucket Details → Properties → Region
# Example: us-east-1
AWS_REGION=us-east-1

# S3 bucket name for storing design images
# The name of your S3 bucket for image storage
# Create in AWS Console → S3 → Create Bucket
# Example: 2026gptees-designs
S3_BUCKET_NAME=2026gptees-designs

# Printful Fulfillment Integration
# API key for Printful order fulfillment
# Get from Printful Dashboard → Settings → Stores → API → Generate Access Token
# Example: XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
PRINTFUL_API_KEY=***

# Resend Email Service
# API key for Resend transactional emails
# Get from Resend Dashboard → API Keys → Create API Key
# Example: re_XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
RESEND_API_KEY=re_***

# Email sender address (must be verified domain in Resend)
# The email address that sends order confirmations and notifications
# Verify domain in Resend Dashboard → Domains → Add Domain
# Example: noreply@yourdomain.com
RESEND_FROM_EMAIL=noreply@yourdomain.com
